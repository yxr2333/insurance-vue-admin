(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e67db908"],{aa88:function(t,e,s){"use strict";s("da65")},afae:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[0===t.listData.length?s("div",{staticClass:"middle"},[s("img",{staticStyle:{width:"200px"},attrs:{src:"https://cn.vuejs.org/images/logo.svg",alt:""}}),t._m(0)]):s("div",{staticStyle:{margin:"20px"}},[t._l(t.listData,(function(e,a){return s("el-descriptions",{key:a,staticStyle:{"margin-bottom":"20px"},attrs:{title:"订单信息",border:""}},[s("template",{slot:"extra"},[s("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(s){return t.handleConfirm(e)}}},[t._v("发货")])],1),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"number","class-name":"des-icon"}}),s("span",[t._v("订单编号")])],1)]),s("span",[t._v(t._s(e.orderId))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"people2","class-name":"des-icon"}}),s("span",[t._v("购买人")])],1)]),s("span",[t._v(t._s(e.user.name))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"mail","class-name":"des-icon"}}),s("span",[t._v("邮箱地址")])],1)]),s("span",[t._v(t._s(e.user.email))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"mobile-phone","class-name":"des-icon"}}),s("span",[t._v("联系电话")])],1)]),s("span",[t._v(t._s(e.user.phone))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"logistics","class-name":"des-icon"}}),s("span",[t._v("产品名称")])],1)]),s("span",[t._v(t._s(e.products[0].name))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"status","class-name":"des-icon"}}),s("span",[t._v("订单状态")])],1)]),s("el-tag",{attrs:{type:0===e.status?"warning":"success"}},[t._v(t._s(0===e.status?"进行中":"已完成"))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"time","class-name":"des-icon"}}),s("span",[t._v("购买时间")])],1)]),s("span",[t._v(t._s(e.buyTime))])],2),s("el-descriptions-item",[s("template",{slot:"label"},[s("div",[s("svg-icon",{attrs:{"icon-class":"home","class-name":"des-icon"}}),s("span",[t._v("收货地址")])],1)]),s("span",[t._v(t._s(e.address))])],2)],2)})),s("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[5,10,20,30,50],"page-size":t.pageSize,layout:"total, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],2),s("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("span",[t._v("这是一段信息")]),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("确 定")])],1)])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text"},[s("div",[t._v("当前暂无订单需要发货！")]),s("div",[t._v("休息一下吧~")])])}],n=s("1da1"),l=(s("96cf"),s("b0c0"),{name:"Deliver",data:function(){return{dialogVisible:!1,pageNum:1,pageSize:3,total:null,listData:[]}},mounted:function(){this.initData()},methods:{initData:function(){var t=this,e="/order/get?status=0&pageNum="+this.pageNum+"&pageSize="+this.pageSize;this.getRequest(e).then((function(e){e&&(t.total=e.data.total,t.listData=e.data.data)}))},handleConfirm:function(t){var e=this;this.$confirm("确认给客户["+t.user.name+"]的编号为："+t.orderId+"的订单发货吗？","提示",{cancelButtonText:"取 消",confirmButtonText:"确 认",type:"warning"}).then((function(){e.putRequest("/order/update/status?id="+t.orderId+"&status=1").then(function(){var s=Object(n["a"])(regeneratorRuntime.mark((function s(a){var i,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!a){s.next=5;break}return i="尊敬的："+t.user.name+"用户，您好！<br /> 您于："+t.buyTime+"购买的编号为"+t.orderId+"的订单已经成功发货！<br />您的收货地址为"+t.address+"<br />请关注订单状态，及时查收！",n="/mail?content="+i+"&flag=true&title=订单发货通知&to="+t.user.email,s.next=5,e.postRequest(n).then((function(t){})).catch((function(){e.$message({type:"error",message:"订单发货成功，邮件通知失败，请检查用户邮箱地址是否有误！"})}));case 5:case"end":return s.stop()}}),s)})));return function(t){return s.apply(this,arguments)}}())})).catch((function(){e.$message.info("已取消")}))},handleSizeChange:function(t){this.pageSize=t,this.initData()},handleCurrentChange:function(t){this.pageNum=t,this.initData()}}}),o=l,r=(s("aa88"),s("2877")),c=Object(r["a"])(o,a,i,!1,null,"7c8e7cc6",null);e["default"]=c.exports},da65:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e67db908.edf960fc.js.map